webpackJsonp([3],{Cdx3:function(e,s,t){var a=t("sB3e"),r=t("lktj");t("uqUo")("keys",function(){return function(e){return r(a(e))}})},RAcl:function(e,s){},"T+/8":function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=t("fZjL"),r=t.n(a),o={name:"LoginPage",data:function(){return{loginForm:{username:"",password:""},errors:{},loading:!1}},computed:{currentYear:function(){return(new Date).getFullYear()}},methods:{validateForm:function(){return this.errors={},this.loginForm.username.trim()||(this.errors.username="请输入用户名"),this.loginForm.password||(this.errors.password="请输入密码"),0===r()(this.errors).length},resetLoading:function(){this.loading=!1},showMessageBox:function(e){this.$alert(e,"异常提示",{type:"error",confirmButtonText:"确定"})},handleLogin:function(){var e=this;this.validateForm()&&(this.loading=!0,this.$http({method:"POST",url:"/user/login",data:{username:this.loginForm.username,password:this.loginForm.password}}).then(function(s){0===s.data.code?(window.sessionStorage.setItem("token",s.data.data.accessToken),window.sessionStorage.setItem("username",e.loginForm.username),window.sessionStorage.setItem("realname",s.data.data.realName),e.$http.get("/sqlrest/manager/api/v1/health/version").then(function(s){0===s.data.code?(window.sessionStorage.setItem("version",s.data.data),e.$message("登录成功！"),e.$router.push({path:"/dashboard"})):e.$message(s.data.message),e.resetLoading()})):(e.showMessageBox("系统登录异常,"+s.data.message),e.resetLoading())}).catch(function(s){e.resetLoading(),e.showMessageBox("系统登录异常,"+(s||"地址无法联通"))}))}}},n={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login-container"},[t("div",{staticClass:"login-form"},[e._m(0),e._v(" "),t("form",{staticClass:"form-content",on:{submit:function(s){return s.preventDefault(),e.handleLogin(s)}}},[t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-label",attrs:{for:"username"}},[e._v("用户名")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.username,expression:"loginForm.username"}],staticClass:"input-field",class:{"input-error":e.errors.username},attrs:{type:"text",id:"username",placeholder:"请输入用户名"},domProps:{value:e.loginForm.username},on:{input:function(s){s.target.composing||e.$set(e.loginForm,"username",s.target.value)}}}),e._v(" "),e.errors.username?t("span",{staticClass:"error-message"},[e._v(e._s(e.errors.username))]):e._e()]),e._v(" "),t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-label",attrs:{for:"password"}},[e._v("密码")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],staticClass:"input-field",class:{"input-error":e.errors.password},attrs:{type:"password",id:"password",placeholder:"请输入密码"},domProps:{value:e.loginForm.password},on:{input:function(s){s.target.composing||e.$set(e.loginForm,"password",s.target.value)}}}),e._v(" "),e.errors.password?t("span",{staticClass:"error-message"},[e._v(e._s(e.errors.password))]):e._e()]),e._v(" "),t("button",{staticClass:"login-button",attrs:{type:"submit",disabled:e.loading}},[e.loading?e._e():t("span",[e._v("登录")]),e._v(" "),e.loading?t("span",{staticClass:"loading-text"},[e._v("登录中...")]):e._e()])]),e._v(" "),t("div",{staticClass:"footer-links"},[t("p",{staticClass:"copyright"},[e._v("© "+e._s(e.currentYear)+" https://gitee.com/inrgihc/sqlrest")])])])])},staticRenderFns:[function(){var e=this.$createElement,s=this._self._c||e;return s("div",{staticClass:"logo-section"},[s("h1",{staticClass:"system-title"},[this._v("系统登录")]),this._v(" "),s("p",{staticClass:"system-subtitle"},[this._v("欢迎使用SQLREST")])])}]};var i=t("VU/8")(o,n,!1,function(e){t("RAcl")},"data-v-03bb6cfd",null);s.default=i.exports},fZjL:function(e,s,t){e.exports={default:t("jFbC"),__esModule:!0}},jFbC:function(e,s,t){t("Cdx3"),e.exports=t("FeBl").Object.keys},uqUo:function(e,s,t){var a=t("kM2E"),r=t("FeBl"),o=t("S82l");e.exports=function(e,s){var t=(r.Object||{})[e]||Object[e],n={};n[e]=s(t),a(a.S+a.F*o(function(){t(1)}),"Object",n)}}});
//# sourceMappingURL=3.7ca6dfb436113b89ba1a.js.map