webpackJsonp([15],{"2XRO":function(e,t){},QZ7T:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),n={name:"ServiceSearch",data:function(){return{searchKeyword:"",moduleItemList:[],selectedModuleList:[],currentPage:1,pageSize:12,totalCount:0,allData:[]}},methods:{loadModules:function(){var e=this;this.moduleItemList=[],this.$http({method:"POST",headers:{"Content-Type":"application/json"},url:"/sqlrest/manager/api/v1/module/listAll",data:i()({page:1,size:2147483647,searchText:null})}).then(function(t){0===t.data.code?e.moduleItemList=t.data.data||[]:(e.moduleItemList=[],t.data.message&&alert("Failed to load module list: "+t.data.message))})},loadInterface:function(){var e=this;this.$http({method:"POST",headers:{"Content-Type":"application/json"},url:"/sqlrest/manager/api/v1/assignment/search",data:window.JSON.stringify({moduleIds:this.selectedModuleList,searchText:this.searchKeyword,page:this.currentPage,size:this.pageSize})}).then(function(t){0===t.data.code?(e.currentPage=t.data.pagination.page,e.pageSize=t.data.pagination.size,e.totalCount=t.data.pagination.total,e.allData=t.data.data):alert("Failed to load list: "+t.data.message)})},handleSearch:function(){this.currentPage=1,this.loadInterface()},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.loadInterface()},handleCurrentChange:function(e){this.currentPage=e,this.loadInterface()},handleGoDetail:function(e){this.$router.push("/service/detail?id="+e.id+"&commitId="+e.commitId)}},created:function(){this.loadModules(),this.loadInterface()}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-container",{staticClass:"app-container"},[a("el-header",{staticClass:"app-header"},[a("div",{staticClass:"header-content"},[a("div",{staticClass:"search-box"},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"Please enter API name keyword to search"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}}),e._v(" "),a("el-button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("\n            Search\n          ")])],1)])]),e._v(" "),a("el-container",[a("el-aside",{staticClass:"app-aside",attrs:{width:"280px"}},[a("div",{staticClass:"filter-section"},[a("h3",{staticClass:"filter-title"},[e._v("Module Filter")]),e._v(" "),a("el-checkbox-group",{staticClass:"checkbox-group",model:{value:e.selectedModuleList,callback:function(t){e.selectedModuleList=t},expression:"selectedModuleList"}},e._l(e.moduleItemList,function(t){return a("el-checkbox",{key:t.id,staticClass:"filter-checkbox",attrs:{label:t.id},on:{change:e.handleSearch}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1)]),e._v(" "),a("el-main",{staticClass:"app-main"},[a("div",{staticClass:"card-grid"},e._l(e.allData,function(t){return a("el-card",{key:t.id,staticClass:"content-card",attrs:{"body-style":{padding:"0px"}},nativeOn:{click:function(a){return e.handleGoDetail(t)}}},[a("div",{staticClass:"card-content"},[a("h4",{staticClass:"card-title"},[e._v("【"+e._s(t.id)+"】"+e._s(t.name))]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Authentication Required",placement:"top-end"}},[t.open?e._e():a("i",{staticClass:"el-icon-user operator-icon",staticStyle:{float:"right"}})]),e._v(" "),a("div",{staticClass:"card-meta"},[a("span",{staticClass:"card-date"},[e._v("Online Time: "+e._s(t.createTime))])]),e._v(" "),a("el-tag",[e._v(e._s(t.method))]),a("span",[e._v(e._s(t.path))]),e._v(" "),a("div",{staticClass:"card-meta"},[a("span",{staticClass:"card-tag"},[e._v("Online Version: "),a("el-tag",[e._v("V"+e._s(t.version))])],1)]),e._v(" "),a("p",{staticClass:"card-desc"},[e._v(e._s(t.description))]),e._v(" "),a("div",{staticClass:"card-meta"},[a("span",{staticClass:"card-tag"},[e._v("Module Name: "+e._s(t.moduleName))]),e._v(" "),a("span",{staticClass:"card-tag"},[e._v("Authorization Group: "+e._s(t.groupName))])])],1)])}),1),e._v(" "),a("div",{staticClass:"pagination-section"},[a("el-pagination",{staticClass:"custom-pagination",attrs:{"current-page":e.currentPage,"page-sizes":[12,24,36,48],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(n,l,!1,function(e){a("2XRO")},"data-v-924b07bc",null);t.default=c.exports}});
//# sourceMappingURL=15.91c5ca24f8d7e2bdb048.js.map